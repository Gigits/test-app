{"ast":null,"code":"import Hero from\"./Hero\";import Review from\"./Review\";import{useParams}from\"react-router-dom\";import{useState,useEffect}from\"react\";import YouTube from\"react-youtube\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const MovieDetailsView=()=>{const{id}=useParams();const[movieDetails,setMovieDetails]=useState(\"\");const[showTrailer,setShowTrailer]=useState(false);const movieUrl=\"https://api.themoviedb.org/3/movie/\".concat(id,\"?api_key=38cdc64ccb498aad76f12ea17d9849dc&language=en-US&append_to_response=videos\");const noImage=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1200px-No-Image-Placeholder.svg.png\";useEffect(()=>{fetch(movieUrl).then(response=>response.json()).then(data=>{setMovieDetails(data);console.log(data);});console.log(\"make a request!\");},[id,movieUrl]);const moviePosterImg=\"https://image.tmdb.org/t/p/w500\".concat(movieDetails.poster_path);const movieBackdropPath=\"https://image.tmdb.org/t/p/original\".concat(movieDetails.backdrop_path);console.log(id);const youtubeVid=movieDetails?movieDetails.videos.results.find(result=>result.name===\"Official Trailer\"):null;function handleTrailer(){setShowTrailer(value=>!value);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Hero,{backdropImg:movieDetails.backdrop_path?movieBackdropPath:null,children:[showTrailer&&/*#__PURE__*/_jsx(YouTube,{containerClassName:\"video-div\",videoId:youtubeVid?youtubeVid.key:null,opts:{width:\"100%\",height:\"450px\"}}),youtubeVid&&/*#__PURE__*/_jsx(\"button\",{className:\"position-absolute bottom-0 end-0 my-5 mx-3 btn \".concat(showTrailer?\"btn-outline-danger\":\"btn-outline-primary\"),onClick:handleTrailer,children:showTrailer?\"Close Trailer\":\"Show Trailer\"}),!movieDetails.backdrop_path&&/*#__PURE__*/_jsxs(\"h1\",{children:[\"Search Result for \",movieDetails.original_title]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mx-3 row my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col bg-dark text-white\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",movieDetails.original_title,\" \"]}),/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:!movieDetails.poster_path?noImage:moviePosterImg,alt:movieDetails.original_title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col mx-1 row align-items-center\",children:[/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\"},className:\"row\",children:movieDetails.genres&&movieDetails.genres.map(genre=>/*#__PURE__*/_jsxs(\"li\",{className:\"col-4 mx-2 my-3 genres\",children:[genre.name,\" \"]},genre.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"more-info\",children:movieDetails.overview}),/*#__PURE__*/_jsx(\"span\",{children:movieDetails.budget?\"Budget:\".concat(movieDetails.budget,\"$\"):null}),/*#__PURE__*/_jsxs(\"span\",{children:[\"votes:\",movieDetails.vote_average,\"/10\"]}),movieDetails.revenue>0&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Revenue(Profit):\",movieDetails.revenue,\"(\",movieDetails.revenue-movieDetails.budget,\")$\"]})]})]}),/*#__PURE__*/_jsx(Review,{})]});};export default MovieDetailsView;","map":{"version":3,"names":["Hero","Review","useParams","useState","useEffect","YouTube","jsx","_jsx","jsxs","_jsxs","MovieDetailsView","id","movieDetails","setMovieDetails","showTrailer","setShowTrailer","movieUrl","concat","noImage","fetch","then","response","json","data","console","log","moviePosterImg","poster_path","movieBackdropPath","backdrop_path","youtubeVid","videos","results","find","result","name","handleTrailer","value","children","backdropImg","containerClassName","videoId","key","opts","width","height","className","onClick","original_title","src","alt","style","listStyle","genres","map","genre","overview","budget","vote_average","revenue"],"sources":["/Users/gigi/udemy/react201/movie-app/src/components/MovieDetails.js"],"sourcesContent":["import Hero from \"./Hero\";\nimport Review from \"./Review\";\nimport { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport YouTube from \"react-youtube\";\n\nconst MovieDetailsView = () => {\n  const { id } = useParams();\n  const [movieDetails, setMovieDetails] = useState(\"\");\n  const [showTrailer, setShowTrailer] = useState(false);\n  const movieUrl = `https://api.themoviedb.org/3/movie/${id}?api_key=38cdc64ccb498aad76f12ea17d9849dc&language=en-US&append_to_response=videos`;\n\n  const noImage =\n    \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1200px-No-Image-Placeholder.svg.png\";\n  useEffect(() => {\n    fetch(movieUrl)\n      .then((response) => response.json())\n      .then((data) => {\n        setMovieDetails(data);\n        console.log(data);\n      });\n    console.log(\"make a request!\");\n  }, [id, movieUrl]);\n  const moviePosterImg = `https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`;\n  const movieBackdropPath = `https://image.tmdb.org/t/p/original${movieDetails.backdrop_path}`;\n  console.log(id);\n  const youtubeVid = movieDetails\n    ? movieDetails.videos.results.find(\n        (result) => result.name === \"Official Trailer\"\n      )\n    : null;\n  function handleTrailer() {\n    setShowTrailer((value) => !value);\n  }\n  return (\n    <div>\n      <Hero backdropImg={movieDetails.backdrop_path ? movieBackdropPath : null}>\n        {showTrailer && (\n          <YouTube\n            containerClassName={\"video-div\"}\n            videoId={youtubeVid ? youtubeVid.key : null}\n            opts={{ width: \"100%\", height: \"450px\" }}\n          />\n        )}\n        {youtubeVid && (\n          <button\n            className={`position-absolute bottom-0 end-0 my-5 mx-3 btn ${\n              showTrailer ? \"btn-outline-danger\" : \"btn-outline-primary\"\n            }`}\n            onClick={handleTrailer}\n          >\n            {showTrailer ? \"Close Trailer\" : \"Show Trailer\"}\n          </button>\n        )}\n        {!movieDetails.backdrop_path && (\n          <h1>Search Result for {movieDetails.original_title}</h1>\n        )}\n      </Hero>\n      <div className=\"mx-3 row my-5\">\n        <div className=\"col bg-dark text-white\">\n          <h1> {movieDetails.original_title} </h1>\n          <img\n            className=\"img\"\n            src={!movieDetails.poster_path ? noImage : moviePosterImg}\n            alt={movieDetails.original_title}\n          />\n        </div>\n        <div className=\"col mx-1 row align-items-center\">\n          <ul style={{ listStyle: \"none\" }} className=\"row\">\n            {movieDetails.genres &&\n              movieDetails.genres.map((genre) => (\n                <li className=\"col-4 mx-2 my-3 genres\" key={genre.id}>\n                  {genre.name}{\" \"}\n                </li>\n              ))}\n          </ul>\n          <p className=\"more-info\">{movieDetails.overview}</p>\n          <span>\n            {movieDetails.budget ? `Budget:${movieDetails.budget}$` : null}\n          </span>\n          <span>votes:{movieDetails.vote_average}/10</span>\n          {movieDetails.revenue > 0 && (\n            <span>\n              Revenue(Profit):{movieDetails.revenue}(\n              {movieDetails.revenue - movieDetails.budget})$\n            </span>\n          )}\n        </div>\n      </div>\n      <Review />\n    </div>\n  );\n};\n\nexport default MovieDetailsView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}